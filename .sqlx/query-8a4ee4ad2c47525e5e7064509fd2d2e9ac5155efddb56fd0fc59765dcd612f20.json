{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT\n                date_trunc('day', gs.date) as \"date!\",\n                COALESCE(s.sessions, 0) as \"sessions!\",\n                COALESCE(c.contexts, 0) as \"contexts!\",\n                COALESCE(t.tasks, 0) as \"tasks!\",\n                COALESCE(a.ai_requests, 0) as \"ai_requests!\",\n                COALESCE(e.tool_executions, 0) as \"tool_executions!\"\n            FROM generate_series($1::timestamptz, NOW(), '1 day') gs(date)\n            LEFT JOIN (\n                SELECT date_trunc('day', started_at) as day, COUNT(*) as sessions\n                FROM user_sessions WHERE started_at > $1 AND is_bot = false AND is_behavioral_bot = false AND is_scanner = false\n                GROUP BY 1\n            ) s ON s.day = date_trunc('day', gs.date)\n            LEFT JOIN (\n                SELECT date_trunc('day', created_at) as day, COUNT(*) as contexts\n                FROM user_contexts WHERE created_at > $1\n                GROUP BY 1\n            ) c ON c.day = date_trunc('day', gs.date)\n            LEFT JOIN (\n                SELECT date_trunc('day', created_at) as day, COUNT(*) as tasks\n                FROM agent_tasks WHERE created_at > $1\n                GROUP BY 1\n            ) t ON t.day = date_trunc('day', gs.date)\n            LEFT JOIN (\n                SELECT date_trunc('day', created_at) as day, COUNT(*) as ai_requests\n                FROM ai_requests WHERE created_at > $1\n                GROUP BY 1\n            ) a ON a.day = date_trunc('day', gs.date)\n            LEFT JOIN (\n                SELECT date_trunc('day', created_at) as day, COUNT(*) as tool_executions\n                FROM mcp_tool_executions WHERE created_at > $1\n                GROUP BY 1\n            ) e ON e.day = date_trunc('day', gs.date)\n            ORDER BY date ASC\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "date!",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 1,
        "name": "sessions!",
        "type_info": "Int8"
      },
      {
        "ordinal": 2,
        "name": "contexts!",
        "type_info": "Int8"
      },
      {
        "ordinal": 3,
        "name": "tasks!",
        "type_info": "Int8"
      },
      {
        "ordinal": 4,
        "name": "ai_requests!",
        "type_info": "Int8"
      },
      {
        "ordinal": 5,
        "name": "tool_executions!",
        "type_info": "Int8"
      }
    ],
    "parameters": {
      "Left": [
        "Timestamptz"
      ]
    },
    "nullable": [
      null,
      null,
      null,
      null,
      null,
      null
    ]
  },
  "hash": "8a4ee4ad2c47525e5e7064509fd2d2e9ac5155efddb56fd0fc59765dcd612f20"
}
