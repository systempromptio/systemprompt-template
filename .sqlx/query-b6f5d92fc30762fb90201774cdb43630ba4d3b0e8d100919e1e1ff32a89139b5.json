{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT\n                COALESCE(at.agent_name, 'unknown') as \"name!\",\n                COALESCE(SUM(r.cost_cents), 0)::bigint as \"cost!\",\n                COUNT(*)::bigint as \"requests!\",\n                COALESCE(SUM(r.tokens_used), 0)::bigint as \"tokens!\"\n            FROM ai_requests r\n            LEFT JOIN agent_tasks at ON at.task_id = r.task_id\n            WHERE r.created_at >= $1 AND r.created_at < $2\n            GROUP BY at.agent_name\n            ORDER BY SUM(r.cost_cents) DESC NULLS LAST\n            LIMIT $3\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "name!",
        "type_info": "Text"
      },
      {
        "ordinal": 1,
        "name": "cost!",
        "type_info": "Int8"
      },
      {
        "ordinal": 2,
        "name": "requests!",
        "type_info": "Int8"
      },
      {
        "ordinal": 3,
        "name": "tokens!",
        "type_info": "Int8"
      }
    ],
    "parameters": {
      "Left": [
        "Timestamptz",
        "Timestamptz",
        "Int8"
      ]
    },
    "nullable": [
      null,
      null,
      null,
      null
    ]
  },
  "hash": "b6f5d92fc30762fb90201774cdb43630ba4d3b0e8d100919e1e1ff32a89139b5"
}
